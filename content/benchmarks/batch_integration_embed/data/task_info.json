{
    "task_id": "batch_integration_embed",
    "commit_sha": "6a6ddc706cff9ff9b6d2085c9d3ff87d0bcd88be",
    "task_name": "Batch integration embed",
    "task_summary": "Removing batch effects while preserving biological variation (embedding output)",
    "task_description": "<!--- TODO: add links --->\n\n\n## The task\n\nThis is a sub-task of the overall batch integration task. Batch (or data) integration\nintegrates datasets across batches that arise from various biological and technical\nsources. Methods that integrate batches typically have three different types of output:\na corrected feature matrix, a joint embedding across batches, and/or an integrated\ncell-cell similarity graph (e.g., a kNN graph). This sub-task focuses on all methods\nthat can output joint embeddings, and includes methods that canonically output corrected\nfeature matrices with subsequent postprocessing to generate a joint embedding. Other\nsub-tasks for batch integration can be found for:\n\n* [graphs](../batch_integration_graph/), and\n* [corrected features](../batch_integration_features)\n\nThis sub-task was taken from a\n[benchmarking study of data integration\nmethods](https://openproblems.bio/bibliography#luecken2022benchmarking).\n\n## The metrics\n\nMetrics for batch integration (embed) measure how well batches are mixed while\nbiological signals are preserved. They are divided into batch correction and biological\nvariance conservation metrics.\n\n### Batch correction\n\n* **kBET**: kBET determines whether the label composition of a k nearest neighborhood of\na cell is similar to the expected (global) label composition\n([Buettner et al., Nat Meth 2019](https://openproblems.bio/bibliography#bttner2018test)).\n  The test is repeated for a random subset of cells,\nand the results are summarized as a rejection rate over all tested neighborhoods.\n* **Silhouette batch score**: The absolute silhouette width is computed over batch\nlabels per cell. As 0 then indicates that batches are well mixed and any deviation from\n0 indicates a batch effect, we use the 1-abs(ASW) to map the score to the scale [0;1].\n* **Principal component regression (PC regression)**: This compare the explained\nvariance by batch before and after integration. It returns a score between 0 and 1\n(scaled=True) with 0 if the variance contribution hasn\u2019t changed. The larger the score,\nthe more different the variance contributions are before and after integration.\n\n### Biological variance conservation\n\n* **Cell cycle score**: The cell-cycle conservation score evaluates how well the\ncell-cycle effect can be captured before and after integration.\n* **Isolated label silhouette**: This score evaluates the compactness for the label(s)\nthat is(are) shared by fewest batches. It indicates how well rare cell types can be\npreserved after integration.\n* **Cell type ASW**: The absolute silhouette with is computed on cell identity labels,\nmeasuring their compactness.\n\n",
    "repo": "openproblems-bio/openproblems"
}