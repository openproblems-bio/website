```{r method_description}
#| echo: false
# show each method just once
lines <- map_chr(seq_len(nrow(method_info)), function(i) {
  method_name <- method_info$method_name[[i]]
  method_summary <- method_info$method_summary[[i]]
  paper_reference <- method_info$paper_reference[[i]]
  code_url <- method_info$code_url[[i]]
  code_version <- method_info$code_version[[i]]

  links <- c()
  if (!is.na(code_url)) {
    links <- c(links, glue::glue(" [Docs]({code_url})"))
  }
  version_label <- 
    if (!is.na(code_version) && code_version != "missing-version") {
      glue::glue(" Software version {code_version}.")
    } else {
      ""
    }
  ref <- 
    if (!is.na(paper_reference)) {
      paste0("<sup>", cite_fun(paper_reference, "html"), "</sup>")
    } else {
      ""
    }
  links_label <-
    if (length(links) > 0) {
      glue::glue(" Links: {paste(links, collapse = ', ')}.")
    } else {
      ""
    }
  summ <- (method_summary %|% "Missing 'method_summary'") %>% str_replace_all("\\. *$", "")
  glue::glue("* **{method_name}**{ref}: {summ}.{version_label}{links_label}")
})
knitr::asis_output(paste(lines, collapse = "\n"))
```

