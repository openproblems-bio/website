```{r dataset_description}
#| echo: false
lines <- pmap_chr(dataset_info, function(dataset_name, dataset_summary, dataset_description, data_reference, ...) {
  ref <- split_cite_fun(data_reference)
  rest <- list(...)
  source_dataset_id <- if ("source_dataset_id" %in% names(rest)) rest$source_dataset_id else NULL
  dataset_link <- if (!is.null(source_dataset_id)) {
    glue::glue("[{dataset_name}](/datasets/{source_dataset_id})")
  } else if ("scPerturb" %in% dataset_name) {
    dataset_name
  } else {
    glue::glue("[{dataset_name}](/datasets/{rest$dataset_id})")
  }
  if (ref != "") ref <- paste0(" ", ref)
  summ <- (dataset_summary %|% "Missing 'dataset_summary'") %>% str_replace_all("\\n", " ") %>% str_replace_all("\\. *$", "")
  
  strip_margin(glue::glue("
  |### {dataset_link}
  |
  |{summ}{ref}.
  |
  |{dataset_description %|% ''}
  |"))
})
knitr::asis_output(paste(lines, collapse = "\n"))
```